<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Elektronikku - Sistem Informasi Data Produk</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container-fluid px-0">
        <!-- header -->
        <div class="row">
            <div class="col-md-12">
                <div id="carouselExampleIndicators" class="carousel slide">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="assets/banner3.jpg" class="d-block w-100 object-fit-cover" alt="Banner 1">
                            <div class="carousel-caption d-none d-md-block">
                                <h1 class="text-">Teknologi yang Menginspirasi Hidup</h1>
                                <p>Dari gadget pintar hingga rumah cerdas, kami hadir untuk masa depanmu.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="assets/banner2.jpg" class="d-block w-100 object-fit-cover" alt="Banner 2">
                            <div class="carousel-caption d-none d-md-block">
                                <h1>Solusi Elektronik, Tanpa Kompromi</h1>
                                <p>Produk berkualitas, layanan terpercaya, harga bersahabat.</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="assets/banner1.jpg" class="d-block w-100 object-fit-cover" alt="Banner 3">
                            <div class="carousel-caption d-none d-md-block">
                                <h1>Hidup Lebih Mudah, Lebih Canggih</h1>
                                <p>Temukan perangkat yang menyatu dengan gaya dan kebutuhanmu.</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- navbar -->
        <div class="row sticky-top">
            <div class="col-md-12">
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark d-flex justify-content-between">
                    <img src="assets/lion-head-png-37125.png" alt="" class="nav-icon ms-5">
                    <span class="text-light me-5 fs-1 fw-bold">Elektronikku</span>
                </nav>
            </div>
        </div>

        <!-- content -->
        <div class="row mt-4">
            <!-- main content -->
            <div class="col-md-12">
                <!-- shop profile -->
                <div class="shop-header text-center rounded">
                    <div class="container">
                        <div class="row align-items-center">
                            <div class="col-md-4">
                                <img src="assets/shop.png" alt="Profile Picture" class="shop-image mt-4 object-fit-cover">
                            </div>
                            <div class="col-md-8 text-md-start ps-5">
                                <h1 class="display-5 fw-bold">Elektronikku</h1>
                                <p class="lead">Pusat Elektronik Terpercaya untuk Solusi Modern</p>
                                <p class="mb-0">
                                    Menyediakan beragam produk elektronik berkualitas—dari gadget harian hingga perangkat rumah pintar—dengan layanan ramah, harga kompetitif, dan jaminan garansi. Kami hadir untuk memenuhi kebutuhan teknologi Anda, kapan pun dan di mana pun.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12 text-center">
                        <div class="topic-style fw-bold">Sistem Informasi Data Produk</div>
                    </div>
                </div>

                <div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="side-content">
                                <!-- form data produk -->
                                <form id="formProduk" class="">
                                    <h2 id="formTitle" class="pb-3">Tambahkan produk</h2>

                                    <input type="text" id="inputNama" placeholder="Nama produk" class="form-control mb-4" required>
                                    
                                    <input type="number" id="inputHarga" placeholder="Harga produk" class="form-control mb-4" required>

                                    <input type="number" id="inputStok" placeholder="Stok" class="form-control mb-4" required>
                                    
                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="checkResetForm" checked>
                                            <label class="form-check-label" for="checkResetForm">
                                                Reset form?
                                            </label>
                                        </div>

                                        <span id="subForm" class="text-secondary fw-medium"></span>
                                    </div>

                                    <div class="d-flex justify-content-between">
                                        <button type="button" id="formButton1" class="btn btn-warning" onclick="actionButton1()">Tambah produk</button>

                                        <button type="button" id="formButton2" class="btn btn-outline-danger" onclick="actionButton2()">Kosongkan form</button>
                                    </div>
                                    
                                </form>
                            </div>
                        </div>

                        <div class="col-md-8">
                            <table id="productTable" class="custom-table table table-striped table-hover ms-5">
                                <thead align="center">
                                    <tr>
                                        <th>ID</th>
                                        <th>Nama produk</th>
                                        <th>Harga</th>
                                        <th>Stok</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="dataProduk"></tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="3" align="right"><strong>Total Stok produk: </strong></td>
                                        <td id="totalSemua" align="center"></td>
                                        <td></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>

                    </div>
                </div>

            </div>
        </div>

        <!-- footer -->
        <div class="row mt-3">
		    <div class="col-md-12">
                <footer class="footer bg-dark">
                    <div class="footer-container">
                        <!-- lokasi -->
                        <div class="footer-section">
                            <h3>Location</h3>
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d415.89750722990556!2d112.72983911605492!3d-7.386783931226247!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd7e557a676c8af%3A0xf3af60d1036dd8ab!2sIDESIGN!5e0!3m2!1sid!2sid!4v1757496768347!5m2!1sid!2sid"
                                width="250" height="150" style="border:0;" allowfullscreen="" loading="lazy">
                            </iframe>
                        </div>

                        <!-- kontak -->
                        <div class="footer-section ms-2">
                            <h3>Contact Me</h3>
                            <p><i class="bi bi-envelope"></i>&nbsp; Email: <a href="mailto:el.mochtaar@gmail.com">el.mochtaar@gmail.com</a></p>
                            <p><i class="bi bi-whatsapp"></i>&nbsp; WhatsApp: <a href="https://wa.me/6283146978084" target="_blank">+62 831-4697-8084</a></p>
                            <p><i class="bi bi-instagram"></i>&nbsp; Instagram: <a href="https://www.instagram.com/el_mochtaar/" target="_blank">@el_mochtaar</a></p>
                            <p><i class="bi bi-github"></i>&nbsp; Github: <a href="https://github.com/UmarUPN" target="_blank">github.com/UmarUPN</a></p>
                        </div>

                    </div>

                    <div class="footer-bottom">
                        <p>© 2025 Umar Mukhtar. All rights reserved.</p>
                    </div>
                </footer>
		    </div>
	    </div>

    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            const tooltipList = [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));
        });
    </script>

    <script>
        let listProduk = [
            {id: 1, nama: "Laptop", harga: 7000000, stok: 5},
            {id: 2, nama: "Mouse", harga: 200000, stok: 10},
            {id: 3, nama: "Keyboard", harga: 350000, stok: 7},
            {id: 4, nama: "Monitor", harga: 1500000, stok: 4},
            {id: 5, nama: "Printer", harga: 1200000, stok: 3},
            {id: 6, nama: "Flashdisk", harga: 100000, stok: 20},
            {id: 7, nama: "Harddisk", harga: 850000, stok: 6},
            {id: 8, nama: "Speaker", harga: 500000, stok: 8},
            {id: 9, nama: "Webcam", harga: 450000, stok: 5},
            {id: 10, nama: "Router", harga: 600000, stok: 4},
            {id: 11, nama: "Headset", harga: 300000, stok: 9},
            {id: 12, nama: "Microphone", harga: 750000, stok: 2},
            {id: 13, nama: "Tablet", harga: 2500000, stok: 3},
            {id: 14, nama: "Smartphone", harga: 3500000, stok: 6},
            {id: 15, nama: "Charger", harga: 150000, stok: 12},
            {id: 16, nama: "Powerbank", harga: 300000, stok: 7},
            {id: 17, nama: "Cooling Pad", harga: 250000, stok: 5},
            {id: 18, nama: "USB Hub", harga: 180000, stok: 9},
            {id: 19, nama: "Stylus Pen", harga: 220000, stok: 4},
            {id: 20, nama: "Laptop Stand", harga: 400000, stok: 6}
        ];

        // let IDTerakhir = 0;
        let IDBaru = listProduk.length + 1;

        // CRUD data produk
        function tampilkanProduk() {
            document.getElementById("dataProduk").innerHTML = "";
            let totalSeluruhStok = 0;

            // listProduk.forEach(produk => {
            listProduk.forEach((produk, i) => {
                totalSeluruhStok += produk.stok;
                // IDTerakhir = produk.id;

                document.getElementById("dataProduk").innerHTML += `
                    <tr align="center">
                        <td>${produk.id}</td>
                        <td align="left">${produk.nama}</td>
                        <td>${formatUang(produk.harga)}</td>
                        <td>${produk.stok} pcs</td>
                        <td>
                            <span class="icon-link icon-link-hover me-4" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);">
                                <i class="bi bi-pencil-square text-warning" onclick="formToEdit(${produk.id})" data-bs-toggle="tooltip" data-bs-title="Edit produk ID ${produk.id}"></i>
                            </span>
                            <span class="icon-link icon-link-hover" style="--bs-icon-link-transform: translate3d(0, -.125rem, 0);">
                                <i class="bi bi-trash3 text-danger" onclick="hapusProduk(${produk.id})"></i>
                            </span>
                        </td>
                    </tr>
                `;
            })

            document.getElementById("totalSemua").textContent = totalSeluruhStok + " pcs";
        }

        formToAdd()

        tampilkanProduk()

        function tambahProduk() {
            const nama = document.getElementById("inputNama").value; // const namaProduk
            const harga = parseFloat(document.getElementById("inputHarga").value); // const hargaProduk
            const stok = parseInt(document.getElementById("inputStok").value); // const stokProduk

            if (!nama || isNaN(harga) || isNaN(stok) || harga <= 0 || stok < 0) {
                alert("Silakan isi semua field dengan benar!");
                return;
            }

            // const id = IDTerakhir + 1; // cara lama
            const id = IDBaru;

            listProduk.push({id, nama, harga, stok});
            // listProduk.push({
            //     id: IDBaru,
            //     nama: namaProduk,
            //     harga: parseFloat(hargaProduk),
            //     stok: parseInt(stokProduk)
            // });

            tampilkanProduk()

            IDBaru++; // cara baru, id yang pernah terpakai tidak bisa dipakai lagi meski sudah dihapus

            const checkboxReset = document.getElementById("checkResetForm");

            if (checkboxReset.checked) {
                resetForm();
            }

            formToAdd();
        }

        let IDEdit = 0;

        function editProduk() {
            const id = IDEdit;
            const index = listProduk.findIndex(produk => produk.id === id);

            if (index !== -1) {
                const nama = document.getElementById("inputNama").value;
                const harga = parseFloat(document.getElementById("inputHarga").value);
                const stok = parseInt(document.getElementById("inputStok").value);

                if (!nama || isNaN(harga) || isNaN(stok) || harga <= 0 || stok < 0) {
                    alert("Silakan isi semua field dengan benar!");
                    return;
                }

                listProduk[index].nama = nama;
                listProduk[index].harga = harga;
                listProduk[index].stok = stok;

                tampilkanProduk();

                resetForm();

                formToAdd();
            } else {
                alert("Error bro! ID " + id + " tidak ditemukan! udah dihapus mungkin.")
            }
        }

        function hapusProduk(id) {
            if (confirm("Apakah Anda yakin ingin menghapus produk ID: " + id + "?")) {
                listProduk = listProduk.filter(produk => produk.id !== id);
                // const index = listProduk.findIndex(produk => produk.id === id)
                // listProduk.splice(index, 1);

                tampilkanProduk();
                alert("Produk ID " + id + " berhasil dihapus!");
            }
        }

        // form
        function actionButton1() {
            console.log(document.getElementById("formButton1").textContent);
            if (document.getElementById("formButton1").textContent === "Tambah produk") {
                tambahProduk(); // tambah produk
            } else {
                editProduk(); // konfirmasi edit
            }
        }

        function actionButton2() {
            if (document.getElementById("formButton2").textContent === "Kosongkan form") {
                resetForm(); // kosongkan form
            } else {
                formToAdd(); // batalkan edit
                resetForm();
            }
        }

        function formToEdit(id) {
            const index = listProduk.findIndex(produk => produk.id === id);

            if (index !== -1) {
                IDEdit = id;
                document.getElementById("formTitle").textContent = "Edit produk";
                document.getElementById("subForm").textContent = "Edit produk ID: " + IDEdit;
                document.getElementById("checkResetForm").disabled = true;
                document.getElementById("checkResetForm").checked = true;
                document.getElementById("formButton1").textContent = "Konfirmasi edit";
                document.getElementById("formButton2").textContent = "Batalkan edit";

                document.getElementById("inputNama").value = listProduk[index].nama;
                document.getElementById("inputHarga").value = listProduk[index].harga;
                document.getElementById("inputStok").value = listProduk[index].stok;
            } else {
                alert("Error bro! ID " + id + " tidak ditemukan!")
            }
            
        }

        function formToAdd() {
            document.getElementById("formTitle").textContent = "Tambahkan produk";
            document.getElementById("subForm").textContent = "ID produk selanjutnya: " + IDBaru;
            document.getElementById("checkResetForm").disabled = false;
            document.getElementById("formButton1").textContent = "Tambah produk";
            document.getElementById("formButton2").textContent = "Kosongkan form";
        }

        function resetForm() {
            document.getElementById("inputNama").value = "";
            document.getElementById("inputHarga").value = "";
            document.getElementById("inputStok").value = "";
        }
        
        // misc
        function formatUang(angka) {
            return "Rp" + angka.toLocaleString("id-ID");
        }
    </script>

</body>
</html>